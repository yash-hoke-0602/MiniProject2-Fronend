{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\programing\\\\React-Native\\\\App\\\\MiniProject2-Fronend\\\\screens\\\\update.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport Icon from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { url } from \"../components/url\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nvar createFormData = function createFormData(photo) {\n  var uri = photo.uri;\n  var uriArray = uri.split(\".\");\n  var fileType = uriArray[uriArray.length - 1];\n  var formData = new FormData();\n  formData.append(\"photo\", {\n    uri: uri,\n    name: \"userName.\" + fileType,\n    type: \"image/\" + fileType\n  });\n  return formData;\n};\n\nvar Update = function Update(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedImage = _useState2[0],\n      setSelectedImage = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      PRN = _useState6[0],\n      setPRN = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      branch = _useState8[0],\n      setBranch = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      year = _useState10[0],\n      setYear = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      address = _useState12[0],\n      setAddress = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      pointer = _useState14[0],\n      setPointer = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      internship = _useState16[0],\n      setInternship = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      achievement = _useState18[0],\n      setAchievement = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      placement = _useState20[0],\n      setPlacement = _useState20[1];\n\n  var loadData = function loadData() {\n    var token;\n    return _regeneratorRuntime.async(function loadData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n          case 2:\n            token = _context2.sent;\n            fetch(url + \"/profile\", {\n              headers: new Headers({\n                Authorization: \"Bearer \" + token\n              })\n            }).then(function (res) {\n              return res.json();\n            }).then(function _callee(data) {\n              var str;\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      console.log(data);\n                      setName(data.profData.name);\n                      setPRN(data.profData.prn);\n                      setBranch(data.profData.branch);\n                      str = \"\" + data.profData.year;\n                      setYear(str);\n                      setAddress(data.profData.address);\n                      str = \"\" + data.profData.pointer;\n                      setPointer(str);\n                      setInternship(data.profData.internship);\n                      setAchievement(data.profData.acheivement);\n                      setPlacement(data.profData.placement);\n\n                    case 12:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    loadData();\n  }, []);\n\n  var openImagePickerAsync = function openImagePickerAsync() {\n    var permissionResult, pickerResult;\n    return _regeneratorRuntime.async(function openImagePickerAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            permissionResult = _context3.sent;\n\n            if (!(permissionResult.granted === false)) {\n              _context3.next = 6;\n              break;\n            }\n\n            alert(\"Permission to access camera roll is required!\");\n            return _context3.abrupt(\"return\");\n\n          case 6:\n            _context3.next = 8;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync());\n\n          case 8:\n            pickerResult = _context3.sent;\n\n            if (!(pickerResult.cancelled === true)) {\n              _context3.next = 11;\n              break;\n            }\n\n            return _context3.abrupt(\"return\");\n\n          case 11:\n            console.log(pickerResult);\n            setSelectedImage(pickerResult);\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleUploadPhoto = function handleUploadPhoto() {\n    var token;\n    return _regeneratorRuntime.async(function handleUploadPhoto$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n          case 2:\n            token = _context4.sent;\n            fetch(url + \"/profile/uploadPhoto\", {\n              method: \"POST\",\n              body: createFormData(selectedImage),\n              mode: \"cors\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: \"Bearer \" + token\n              }\n            }).then(function (response) {\n              return response.json();\n            }).then(function (response) {\n              console.log(\"response\", response);\n            }).catch(function (error) {\n              console.log(\"error\", error);\n            });\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleUploadProfile = function handleUploadProfile() {\n    var token;\n    return _regeneratorRuntime.async(function handleUploadProfile$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n          case 2:\n            token = _context5.sent;\n            fetch(url + \"/profile/update\", {\n              method: \"POST\",\n              headers: {\n                Authorization: \"Bearer \" + token,\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                name: name,\n                PRN: PRN,\n                branch: branch,\n                year: year,\n                address: address,\n                pointer: pointer,\n                internship: internship,\n                acheivement: achievement,\n                placement: placement\n              })\n            }).then(function (response) {\n              return response.json();\n            }).then(function (response) {\n              console.log(\"response\", response);\n            }).catch(function (error) {\n              console.log(\"error\", error);\n            });\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 0.2,\n      backgroundColor: \"#694fad\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      marginTop: 20,\n      flex: 1,\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 0.1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, React.createElement(Pressable, {\n    onPress: function onPress() {\n      return props.navigation.openDrawer();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, React.createElement(Icon, {\n    name: \"drag\",\n    size: 40,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  })))), React.createElement(View, {\n    style: {\n      alignItems: \"center\",\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 30,\n      color: \"white\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, \"Update Profile\"))), React.createElement(ScrollView, {\n    style: {\n      flex: 0.8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, selectedImage !== null ? React.createElement(Image, {\n    source: {\n      uri: selectedImage.uri\n    },\n    style: styles.thumbnail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }) : React.createElement(Text, {\n    style: {\n      textAlign: \"center\",\n      marginTop: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, \"Select Image\"), React.createElement(TouchableOpacity, {\n    onPress: openImagePickerAsync,\n    style: [styles.button, {\n      backgroundColor: \"gold\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, \"Pick a photo\")), React.createElement(TouchableOpacity, {\n    onPress: handleUploadPhoto,\n    style: [styles.button, {\n      backgroundColor: \"dodgerblue\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, \"Upload photo\"))), React.createElement(View, {\n    style: {\n      marginTop: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, \"Name:-\"), React.createElement(TextInput, {\n    label: \"Name\",\n    value: name,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setName(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, \"PRN:-\"), React.createElement(TextInput, {\n    label: \"PRN\",\n    value: PRN,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setPRN(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, \"Branch:-\"), React.createElement(TextInput, {\n    label: \"Branch\",\n    value: branch,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setBranch(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, \"Year:-\"), React.createElement(TextInput, {\n    label: \"Year\",\n    value: year,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    keyboardType: \"numeric\",\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setYear(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, \"Address:-\"), React.createElement(TextInput, {\n    label: \"Address\",\n    value: address,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setAddress(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }, \"Pointer:-\"), React.createElement(TextInput, {\n    label: \"Pointer\",\n    keyboardType: \"numeric\",\n    value: pointer,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setPointer(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, \"Internship:-\"), React.createElement(TextInput, {\n    label: \"Internship\",\n    value: internship,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setInternship(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 11\n    }\n  }, \"Achievement:-\"), React.createElement(TextInput, {\n    label: \"Achievement\",\n    value: achievement,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setAchievement(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }\n  }, \"Placement:-\"), React.createElement(TextInput, {\n    label: \"Placement\",\n    value: placement,\n    style: {\n      margin: 15,\n      borderRadius: 5,\n      borderColor: \"lightblue\",\n      borderWidth: 1,\n      padding: 5\n    },\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    onChangeText: function onChangeText(text) {\n      return setPlacement(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: handleUploadProfile,\n    style: [styles.button, {\n      backgroundColor: \"dodgerblue\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }\n  }, \"Update Profile\")))));\n};\n\nexport default Update;\nvar styles = StyleSheet.create({\n  thumbnail: {\n    margin: 10,\n    width: 300,\n    height: 300,\n    alignSelf: \"center\",\n    resizeMode: \"contain\"\n  },\n  button: {\n    margin: 10,\n    padding: 5,\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    width: 150,\n    height: 30,\n    backgroundColor: \"red\"\n  }\n});","map":{"version":3,"sources":["D:/programing/React-Native/App/MiniProject2-Fronend/screens/update.js"],"names":["React","useState","useEffect","ImagePicker","Icon","url","AsyncStorage","createFormData","photo","uri","uriArray","split","fileType","length","formData","FormData","append","name","type","Update","props","selectedImage","setSelectedImage","setName","PRN","setPRN","branch","setBranch","year","setYear","address","setAddress","pointer","setPointer","internship","setInternship","achievement","setAchievement","placement","setPlacement","loadData","getItem","token","fetch","headers","Headers","Authorization","then","res","json","data","console","log","profData","prn","str","acheivement","openImagePickerAsync","requestMediaLibraryPermissionsAsync","permissionResult","granted","alert","launchImageLibraryAsync","pickerResult","cancelled","handleUploadPhoto","method","body","mode","Accept","response","catch","error","handleUploadProfile","JSON","stringify","flex","backgroundColor","marginTop","flexDirection","navigation","openDrawer","alignItems","height","fontSize","color","styles","thumbnail","textAlign","button","margin","borderRadius","borderColor","borderWidth","padding","colors","primary","text","StyleSheet","create","width","alignSelf","resizeMode"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  Button,\r\n  Pressable,\r\n  Platform,\r\n  Image,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n  ScrollView,\r\n  TextInput,\r\n  KeyboardAvoidingView,\r\n} from \"react-native\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport Icon from \"react-native-vector-icons/MaterialCommunityIcons\";\r\nimport { url } from \"../components/url\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nconst createFormData = (photo) => {\r\n  var uri = photo.uri;\r\n  let uriArray = uri.split(\".\");\r\n  let fileType = uriArray[uriArray.length - 1];\r\n\r\n  let formData = new FormData();\r\n  formData.append(\"photo\", {\r\n    uri,\r\n    name: `userName.${fileType}`,\r\n    type: `image/${fileType}`,\r\n    // name: photo.fileName,             -----------------------error photo do not have fileName attribute\r\n    // type: photo.type + \"/jpg\",\r\n    // uri: Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri,\r\n  });\r\n\r\n  return formData;\r\n};\r\n\r\nconst Update = (props) => {\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [PRN, setPRN] = useState(\"\");\r\n  const [branch, setBranch] = useState(\"\");\r\n  const [year, setYear] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [pointer, setPointer] = useState(\"\");\r\n  const [internship, setInternship] = useState(\"\");\r\n  const [achievement, setAchievement] = useState(\"\");\r\n  const [placement, setPlacement] = useState(\"\");\r\n\r\n  const loadData = async () => {\r\n    const token = await AsyncStorage.getItem(\"token\");\r\n    fetch(url + \"/profile\", {\r\n      headers: new Headers({\r\n        Authorization: \"Bearer \" + token,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(async (data) => {\r\n        console.log(data);\r\n        setName(data.profData.name);\r\n        setPRN(data.profData.prn);\r\n        setBranch(data.profData.branch);\r\n        var str = \"\" + data.profData.year;\r\n        setYear(str);\r\n        setAddress(data.profData.address);\r\n        str = \"\" + data.profData.pointer;\r\n        setPointer(str);\r\n        setInternship(data.profData.internship);\r\n        setAchievement(data.profData.acheivement);\r\n        setPlacement(data.profData.placement);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  let openImagePickerAsync = async () => {\r\n    let permissionResult =\r\n      await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n\r\n    if (permissionResult.granted === false) {\r\n      alert(\"Permission to access camera roll is required!\");\r\n      return;\r\n    }\r\n\r\n    let pickerResult = await ImagePicker.launchImageLibraryAsync();\r\n\r\n    if (pickerResult.cancelled === true) {\r\n      return;\r\n    }\r\n    console.log(pickerResult);\r\n    setSelectedImage(pickerResult);\r\n  };\r\n\r\n  const handleUploadPhoto = async () => {\r\n    const token = await AsyncStorage.getItem(\"token\");\r\n    fetch(url + \"/profile/uploadPhoto\", {\r\n      method: \"POST\",\r\n      body: createFormData(selectedImage),\r\n      mode: \"cors\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((response) => {\r\n        console.log(\"response\", response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  };\r\n\r\n  const handleUploadProfile = async () => {\r\n    const token = await AsyncStorage.getItem(\"token\");\r\n    fetch(url + \"/profile/update\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        PRN: PRN,\r\n        branch: branch,\r\n        year: year,\r\n        address: address,\r\n        pointer: pointer,\r\n        internship: internship,\r\n        acheivement: achievement,\r\n        placement: placement,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((response) => {\r\n        console.log(\"response\", response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <View style={{ flex: 1 }}>\r\n      <View style={{ flex: 0.2, backgroundColor: \"#694fad\" }}>\r\n        <View style={{ marginTop: 20, flex: 1, flexDirection: \"row\" }}>\r\n          <View style={{ flex: 0.1 }}>\r\n            <Pressable onPress={() => props.navigation.openDrawer()}>\r\n              <Icon name=\"drag\" size={40} />\r\n            </Pressable>\r\n          </View>\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            alignItems: \"center\",\r\n            height: \"100%\",\r\n          }}\r\n        >\r\n          <Text style={{ fontSize: 30, color: \"white\" }}>Update Profile</Text>\r\n        </View>\r\n      </View>\r\n      <ScrollView style={{ flex: 0.8 }}>\r\n        <View>\r\n          {selectedImage !== null ? (\r\n            <Image\r\n              source={{ uri: selectedImage.uri }}\r\n              style={styles.thumbnail}\r\n            />\r\n          ) : (\r\n            <Text style={{ textAlign: \"center\", marginTop: 10 }}>\r\n              Select Image\r\n            </Text>\r\n          )}\r\n          <TouchableOpacity\r\n            onPress={openImagePickerAsync}\r\n            style={[styles.button, { backgroundColor: \"gold\" }]}\r\n          >\r\n            <Text>Pick a photo</Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity\r\n            onPress={handleUploadPhoto}\r\n            style={[styles.button, { backgroundColor: \"dodgerblue\" }]}\r\n          >\r\n            <Text>Upload photo</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n        <View style={{ marginTop: 10 }}>\r\n          <Text>Name:-</Text>\r\n          <TextInput\r\n            label=\"Name\"\r\n            value={name}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setName(text)}\r\n          />\r\n          <Text>PRN:-</Text>\r\n          <TextInput\r\n            label=\"PRN\"\r\n            value={PRN}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setPRN(text)}\r\n          />\r\n          <Text>Branch:-</Text>\r\n          <TextInput\r\n            label=\"Branch\"\r\n            value={branch}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setBranch(text)}\r\n          />\r\n\r\n          <Text>Year:-</Text>\r\n          <TextInput\r\n            label=\"Year\"\r\n            value={year}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            keyboardType=\"numeric\"\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setYear(text)}\r\n          />\r\n          <Text>Address:-</Text>\r\n          <TextInput\r\n            label=\"Address\"\r\n            value={address}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setAddress(text)}\r\n          />\r\n          <Text>Pointer:-</Text>\r\n          <TextInput\r\n            label=\"Pointer\"\r\n            keyboardType=\"numeric\"\r\n            value={pointer}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setPointer(text)}\r\n          />\r\n          <Text>Internship:-</Text>\r\n          <TextInput\r\n            label=\"Internship\"\r\n            value={internship}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setInternship(text)}\r\n          />\r\n          <Text>Achievement:-</Text>\r\n          <TextInput\r\n            label=\"Achievement\"\r\n            value={achievement}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setAchievement(text)}\r\n          />\r\n          <Text>Placement:-</Text>\r\n          <TextInput\r\n            label=\"Placement\"\r\n            value={placement}\r\n            style={{\r\n              margin: 15,\r\n              borderRadius: 5,\r\n              borderColor: \"lightblue\",\r\n              borderWidth: 1,\r\n              padding: 5,\r\n            }}\r\n            theme={{ colors: { primary: \"blue\" } }}\r\n            onChangeText={(text) => setPlacement(text)}\r\n          />\r\n\r\n          <TouchableOpacity\r\n            onPress={handleUploadProfile}\r\n            style={[styles.button, { backgroundColor: \"dodgerblue\" }]}\r\n          >\r\n            <Text>Update Profile</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Update;\r\n\r\nconst styles = StyleSheet.create({\r\n  thumbnail: {\r\n    margin: 10,\r\n    width: 300,\r\n    height: 300,\r\n    alignSelf: \"center\",\r\n    resizeMode: \"contain\",\r\n  },\r\n  button: {\r\n    margin: 10,\r\n    padding: 5,\r\n    alignSelf: \"center\",\r\n    alignItems: \"center\",\r\n    width: 150,\r\n    height: 30,\r\n    backgroundColor: \"red\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}